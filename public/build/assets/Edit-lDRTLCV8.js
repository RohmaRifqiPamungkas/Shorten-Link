import{v as D,r as o,j as e,$}from"./app-BO4aS4VV.js";import{I as d}from"./iconify-4cTnymJz.js";import{d as k}from"./index-BTZty7Ay.js";import{D as E,N as P,a as U}from"./Notification-CE1hsZqh.js";import{P as L}from"./PrimaryButton-DFDVG6GL.js";import{B as O}from"./Breadcrumb-D9twYQCJ.js";import{S as M}from"./ShareModal-BixkgqME.js";/* empty css            */import"./index-C158x22U.js";const G=({auth:g,project:s})=>{const{data:c,setData:m,patch:f,processing:u,errors:a}=D({project_name:s.project_name||"",project_slug:s.project_slug||""}),[p,l]=o.useState(!1),[x,j]=o.useState(null),[b,h]=o.useState(!1),[w,y]=o.useState(""),[i,r]=o.useState(null),N=t=>{const n=`${window.location.origin}/m/${t.project_slug}`;navigator.clipboard.writeText(n).then(()=>{r({type:"success",message:"Link copied to clipboard!"})}).catch(()=>{r({type:"error",message:"Failed to copy the link."})})},v=t=>{const n=`${window.location.origin}/m/${t.project_slug}`;y(n),h(!0)},_=t=>{j(t),l(!0)},S=()=>{x&&k.Inertia.post(`/projects/${x.id}`,{_method:"DELETE"},{onSuccess:()=>{r({type:"success",message:"Project deleted successfully."})},onError:()=>{r({type:"error",message:"Failed to delete project. Please try again."})}}),l(!1)},C=t=>{t.preventDefault(),f(`/projects/${s.id}`)};return e.jsxs(E,{user:g.user,children:[e.jsx($,{title:"   Edit Link"}),e.jsx(O,{}),e.jsx("h2",{className:"text-xl font-semibold text-blue-900 mt-4 mb-4",children:"Edit Project URL"}),e.jsxs("div",{className:"mb-4 flex flex-col md:flex-row md:items-center gap-4 md:justify-between text-sm text-foreground",children:[e.jsxs("span",{className:"text-foreground text-sm md:text-lg font-medium",children:["Your Link Is :"," ",e.jsx("a",{className:"underline",href:`/m/${s.project_slug}`,target:"_blank",rel:"noopener noreferrer",children:`${window.location.origin}/m/${s.project_slug}`})]}),e.jsxs("div",{className:"flex gap-2 md:ml-4",children:[e.jsx("button",{type:"button",title:"Copy",onClick:()=>N(s),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(d,{icon:"akar-icons:copy",width:20,height:20,className:"text-foreground group-hover:text-white"})}),e.jsx("button",{type:"button",title:"Delete",onClick:()=>_(s),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(d,{icon:"gravity-ui:trash-bin",width:20,height:20,className:"text-foreground group-hover:text-white"})}),e.jsx("button",{type:"button",title:"Share",onClick:()=>v(s),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(d,{icon:"tabler:share",width:20,height:20,className:"text-foreground group-hover:text-white"})})]})]}),i&&e.jsx(P,{type:i.type,message:i.message,onClose:()=>r(null)}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl md:max-w-full p-10 relative",children:[e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-foreground",children:"Project Name"}),e.jsx("input",{type:"text",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1",placeholder:"Nama project",value:c.project_name,onChange:t=>m("project_name",t.target.value),required:!0}),a.project_name&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:a.project_name})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:gap-0  ",children:[e.jsxs("div",{className:"basis-3/4 md:me-4",children:[e.jsx("label",{className:"text-sm text-foreground",children:"URL"}),e.jsx("input",{type:"text",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1 bg-white text-gray-700",value:`${window.location.origin}/m/`,readOnly:!0})]}),e.jsxs("div",{className:"basis-3/4 ",children:[e.jsx("label",{className:"text-sm text-foreground",children:"Alias"}),e.jsx("input",{type:"text",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1 bg-white text-gray-700",placeholder:"custom-alias",value:c.project_slug,onChange:t=>m("project_slug",t.target.value),required:!0}),a.project_slug&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:a.project_slug})]})]}),e.jsx(L,{type:"submit",disabled:u,className:"w-full bg-primary-100 hover:bg-secondary text-white py-2 rounded-md font-semibold",children:u?"Updating...":"Update"})]}),p&&e.jsx(U,{isOpen:p,onClose:()=>l(!1),onConfirm:S}),b&&e.jsx(M,{url:w,onClose:()=>h(!1)})]})]})};export{G as default};
