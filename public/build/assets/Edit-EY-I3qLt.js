import{u as C,r as l,j as e,H as S}from"./app-CL3xyi0u.js";import{I as i}from"./iconify-CJWKapRj.js";import{d as D}from"./index-DQ1NuDG1.js";import{D as P}from"./DashboardLayout-BfzmEYb1.js";import{P as E}from"./PrimaryButton-MSExsVs6.js";import{B as k}from"./Breadcrumb-BOL8ZAyR.js";import{D as $}from"./DeleteModal-DXTT1HM6.js";import{S as U}from"./ShareModal-DHw3Ylx_.js";import{N as L}from"./Notification-DEuHDJOw.js";/* empty css            */import"./index-DtrrT7rv.js";const z=({auth:x,project:s})=>{const{data:c,setData:a,patch:h,processing:m,errors:r}=C({project_name:s.project_name||"",project_slug:s.project_slug||"",current_password:"",new_password:""}),[p,d]=l.useState(!1),[g,f]=l.useState(""),[j,u]=l.useState(!1),[n,o]=l.useState(null),w=t=>{const _=`${window.location.origin}/m/${t.project_slug}`;navigator.clipboard.writeText(_).then(()=>{o({type:"success",message:"Link copied to clipboard!"})}).catch(()=>{o({type:"error",message:"Failed to copy the link."})})},b=()=>{const t=`${window.location.origin}/m/${s.project_slug}`;f(t),u(!0)},y=t=>{setSelectedProjectToDelete(t),d(!0)},N=()=>{selectedProjectToDelete&&D.Inertia.post(`/projects/${selectedProjectToDelete.id}`,{_method:"DELETE"},{onSuccess:()=>{o({type:"success",message:"Project deleted successfully."})},onError:()=>{o({type:"error",message:"Failed to delete project. Please try again."})}}),d(!1)},v=t=>{t.preventDefault(),h(`/projects/${s.id}`)};return e.jsxs(P,{user:x.user,children:[e.jsx(S,{title:"   Edit Link"}),e.jsx(k,{}),e.jsx("h2",{className:"text-xl font-semibold text-blue-900 mt-4 mb-4",children:"Edit Project URL"}),e.jsxs("div",{className:"mb-4 flex flex-col md:flex-row md:items-center gap-4 md:justify-between text-sm text-foreground",children:[e.jsxs("span",{className:"text-foreground text-sm md:text-lg font-medium",children:["Your Link Is :"," ",e.jsx("a",{className:"underline",href:`/m/${s.project_slug}`,target:"_blank",rel:"noopener noreferrer",children:`${window.location.origin}/m/${s.project_slug}`})]}),e.jsxs("div",{className:"flex gap-2 md:ml-4",children:[e.jsx("button",{type:"button",title:"Copy",onClick:()=>w(s),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(i,{icon:"akar-icons:copy",width:20,height:20,className:"text-foreground group-hover:text-white"})}),e.jsx("button",{type:"button",title:"Delete",onClick:()=>y(s),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(i,{icon:"gravity-ui:trash-bin",width:20,height:20,className:"text-foreground group-hover:text-white"})}),e.jsx("button",{type:"button",title:"Share",onClick:()=>b(),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(i,{icon:"tabler:share",width:20,height:20,className:"text-foreground group-hover:text-white"})})]})]}),n&&e.jsx(L,{type:n.type,message:n.message,onClose:()=>o(null)}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl md:max-w-full p-10 relative",children:[e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-foreground",children:"Project Name"}),e.jsx("input",{type:"text",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1",placeholder:"Nama project",value:c.project_name,onChange:t=>a("project_name",t.target.value),required:!0}),r.project_name&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.project_name})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:gap-0  ",children:[e.jsxs("div",{className:"basis-3/4 md:me-4",children:[e.jsx("label",{className:"text-sm text-foreground",children:"URL"}),e.jsx("input",{type:"text",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1 bg-white text-gray-700",value:`${window.location.origin}/m/`,readOnly:!0})]}),e.jsxs("div",{className:"basis-3/4 ",children:[e.jsx("label",{className:"text-sm text-foreground",children:"Alias"}),e.jsx("input",{type:"text",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1 bg-white text-gray-700",placeholder:"custom-alias",value:c.project_slug,onChange:t=>a("project_slug",t.target.value),required:!0}),r.project_slug&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.project_slug})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-md font-semibold text-primary-100 mb-2",children:"Password Protection"}),s.password&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-sm text-foreground",children:"Current Password"}),e.jsx("input",{type:"password",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1",placeholder:"Enter current password",onChange:t=>a("current_password",t.target.value)}),r.current_password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.current_password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-foreground",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1",placeholder:"Enter new password (leave empty to remove)",onChange:t=>a("new_password",t.target.value)}),r.new_password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.new_password})]})]}),e.jsx(E,{type:"submit",disabled:m,className:"w-full bg-primary-100 hover:bg-secondary text-white py-2 rounded-md font-semibold",children:m?"Updating...":"Update"})]}),p&&e.jsx($,{isOpen:p,onClose:()=>d(!1),onConfirm:N}),j&&e.jsx(U,{url:g,onClose:()=>u(!1)})]})]})};export{z as default};
