import{u as f,r as h,j as e,c as y}from"./app-CL3xyi0u.js";import{N as b}from"./Notification-DEuHDJOw.js";/* empty css            */import"./iconify-CJWKapRj.js";function k({short_code:o=null,project_slug:l=null}){const{data:d,setData:x,processing:i,errors:n}=f({password:""}),[t,c]=h.useState(null),w=async r=>{var p,m;r.preventDefault();try{let s="",u={password:d.password};o?(s=route("shorten.validate"),u.short_code=o):l&&(s=route("projects.verifyPassword",l));const a=await y.post(s,u);(p=a.data)!=null&&p.success&&((m=a.data)!=null&&m.url)?window.location.href=a.data.url:window.location.reload()}catch{c({type:"error",message:"Password failed!"})}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-5",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-primary-100 mb-4 text-center",children:"Protected Link"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 text-center",children:"Enter password to open this link"}),t&&e.jsx(b,{type:t.type,message:t.message,onClose:()=>c(null)}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Enter password",value:d.password,onChange:r=>x("password",r.target.value),required:!0}),n.password&&e.jsx("div",{className:"text-red-500 text-sm",children:n.password}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-primary-100 text-white py-2 rounded-lg hover:bg-secondary",children:i?"Checking...":"Unlock"})]})]})})}export{k as default};
