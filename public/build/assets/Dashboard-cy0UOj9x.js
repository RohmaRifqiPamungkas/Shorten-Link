import{v as U,r,j as e,$ as _}from"./app-BO4aS4VV.js";import{I as i}from"./iconify-4cTnymJz.js";import{D as M,N as O,a as T}from"./Notification-CE1hsZqh.js";import{P as F}from"./PrimaryButton-DFDVG6GL.js";import{B as I}from"./Breadcrumb-D9twYQCJ.js";import{S as R}from"./ShareModal-BixkgqME.js";/* empty css            */import"./index-C158x22U.js";const K=({project:n,selectedCategoryId:f})=>{const{data:l,setData:c,post:y,processing:j,errors:h}=U({category_id:f??"",links:[{title:"",url:""}]}),p=(t,s,o)=>{const d=[...l.links];d[t][s]=o,c("links",d)},w=()=>{c("links",[...l.links,{title:"",url:""}])},k=t=>{const s=l.links.filter((o,d)=>d!==t);c("links",s)},v=t=>{t.preventDefault(),y(`/dashboard/projects/${n.id}/links`)},[x,m]=r.useState(!1),[g,N]=r.useState(null),[C,b]=r.useState(!1),[S,L]=r.useState(""),[u,a]=r.useState(null),D=t=>{const s=`${window.location.origin}/m/${t.project_slug}`;navigator.clipboard.writeText(s).then(()=>{a({type:"success",message:"Link copied to clipboard!"})}).catch(()=>{a({type:"error",message:"Failed to copy the link."})})},E=t=>{const s=`${window.location.origin}/m/${t.project_slug}`;L(s),b(!0)},$=t=>{N(t),m(!0)},P=()=>{g&&Inertia.post(`/dashboard/projects/${g.id}`,{_method:"DELETE"},{onSuccess:()=>{a({type:"success",message:"Project deleted successfully."})},onError:()=>{a({type:"error",message:"Failed to delete project. Please try again."})}}),m(!1)};return e.jsxs(M,{children:[e.jsx(_,{title:"Add Link"}),e.jsx(I,{}),e.jsx("h2",{className:"text-xl font-semibold text-blue-900 mt-4 mb-4",children:"Add URL"}),e.jsxs("div",{className:"mb-4 flex items-center justify-between text-sm text-foreground",children:[e.jsxs("span",{className:"text-foreground font-medium",children:["Your Link Is :"," ",e.jsx("a",{className:"underline",children:"sevenpion.com/s/example-alias"})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx("button",{type:"button",title:"Copy",onClick:()=>D(n),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(i,{icon:"akar-icons:copy",width:20,height:20,className:"text-foreground group-hover:text-white"})}),e.jsx("button",{type:"button",title:"Delete",onClick:()=>$(n),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(i,{icon:"gravity-ui:trash-bin",width:20,height:20,className:"text-foreground group-hover:text-white"})}),e.jsx("button",{type:"button",title:"Share",onClick:()=>E(n),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(i,{icon:"tabler:share",width:20,height:20,className:"text-foreground group-hover:text-white"})})]})]}),u&&e.jsx(O,{type:u.type,message:u.message,onClose:()=>a(null)}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl md:max-w-7xl p-10 relative",children:e.jsxs("div",{className:"mt-4",children:[e.jsxs("form",{onSubmit:v,className:" space-y-5 ",children:[e.jsx("input",{type:"hidden",value:l.category_id,name:"category_id"}),l.links.map((t,s)=>e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3 border border-brfourth rounded-md p-6",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title URL"}),e.jsx("input",{type:"text",placeholder:"Example",value:t.title,onChange:o=>p(s,"title",o.target.value),className:"w-full px-3 py-2 border-brfourth rounded-md focus:outline-none"})]}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),e.jsx("input",{type:"url",placeholder:"Example",value:t.url,onChange:o=>p(s,"url",o.target.value),className:"w-full px-3 py-2 border-brfourth rounded-md focus:outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-1 mt-5",children:[l.links.length>1&&e.jsx("button",{type:"button",onClick:()=>k(s),className:"text-white bg-primary-100 hover:bg-secondary p-2 rounded",children:e.jsx(i,{icon:"gravity-ui:trash-bin",width:18,height:18})}),e.jsx("button",{type:"button",onClick:w,className:"text-white bg-secondary hover:bg-primary-100 p-2 rounded",children:e.jsx(i,{icon:"mdi:plus",width:18,height:18})})]})]},s)),h.links&&e.jsx("p",{className:"text-sm text-red-500",children:h.links}),e.jsx(F,{type:"submit",disabled:j,className:"w-full bg-primary-100 hover:bg-secondary text-white py-2 rounded-md font-semibold",children:"Submit"})]}),x&&e.jsx(T,{isOpen:x,onClose:()=>m(!1),onConfirm:P}),C&&e.jsx(R,{url:S,onClose:()=>b(!1)})]})})]})};export{K as default};
