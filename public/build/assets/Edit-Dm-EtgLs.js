import{v as $,r as o,j as e,$ as L}from"./app-BO4aS4VV.js";import{d as g}from"./index-BTZty7Ay.js";import{I as m}from"./iconify-4cTnymJz.js";import{D as E,N as U,a as k}from"./Notification-CE1hsZqh.js";import{P as O}from"./PrimaryButton-DFDVG6GL.js";import{B as I}from"./Breadcrumb-D9twYQCJ.js";import{S as M}from"./ShareModal-BixkgqME.js";/* empty css            */import"./index-C158x22U.js";const G=({auth:f,link:s})=>{const{data:a,setData:l,patch:b,processing:u,errors:r}=$({original_url:s.original_url,custom_alias:s.custom_alias||"",expires_at:s.expires_at?s.expires_at.substring(0,10):""}),[x,i]=o.useState(!1),[p,j]=o.useState(null),[w,h]=o.useState(!1),[y,N]=o.useState(""),[n,d]=o.useState(null),v=t=>{const c=`${window.location.origin}/s/${t.custom_alias}`;navigator.clipboard.writeText(c).then(()=>{d({type:"success",message:"Link copied to clipboard!"})}).catch(()=>{d({type:"error",message:"Failed to copy the link."})})},_=t=>{const c=`${window.location.origin}/s/${t.custom_alias}`;N(c),h(!0)},S=t=>{j(t),i(!0)},C=()=>{p&&g.Inertia.post(`/shorten/${p.id}`,{_method:"DELETE"},{onSuccess:()=>{g.Inertia.visit("/shorten",{replace:!0,preserveScroll:!0})}}),i(!1)},D=t=>{t.preventDefault(),b(`/shorten/${s.id}`)};return e.jsxs(E,{user:f.user,children:[e.jsx(I,{}),e.jsx(L,{title:"   Edit Link"}),e.jsx("h2",{className:"text-xl font-semibold text-blue-900 mt-4 mb-4",children:"Edit URL"}),e.jsxs("div",{className:"mb-4 flex flex-col md:flex-row md:items-center gap-4 md:justify-between text-sm text-foreground",children:[e.jsxs("span",{className:"text-foreground text-sm md:text-lg font-medium",children:["Your Link Is :"," ",e.jsx("a",{className:"underline",href:`/s/${a.custom_alias}`,target:"_blank",rel:"noopener noreferrer",children:`${window.location.origin}/m/${a.custom_alias}`})]}),e.jsxs("div",{className:"flex gap-2 md:ml-4",children:[e.jsx("button",{type:"button",title:"Copy",onClick:()=>v(s),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(m,{icon:"akar-icons:copy",width:20,height:20,className:"text-foreground group-hover:text-white"})}),e.jsx("button",{type:"button",title:"Delete",onClick:()=>S(s),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(m,{icon:"gravity-ui:trash-bin",width:20,height:20,className:"text-foreground group-hover:text-white"})}),e.jsx("button",{type:"button",title:"Share",onClick:()=>_(s),className:"group bg-white p-3 rounded-lg shadow hover:bg-primary-100",children:e.jsx(m,{icon:"tabler:share",width:20,height:20,className:"text-foreground group-hover:text-white"})})]})]}),n&&e.jsx(U,{type:n.type,message:n.message,onClose:()=>d(null)}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl md:max-w-full p-10 relative",children:[e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-foreground",children:"Long URL"}),e.jsx("input",{type:"url",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1",placeholder:"https://example.com/",value:a.original_url,onChange:t=>l("original_url",t.target.value),required:!0}),r.original_url&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.original_url})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:gap-0",children:[e.jsxs("div",{className:"basis-3/4 md:me-4",children:[e.jsx("label",{className:"text-sm text-foreground",children:"Short URL"}),e.jsx("input",{type:"text",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1 bg-white text-gray-700",value:`${window.location.origin}/m/`,readOnly:!0})]}),e.jsxs("div",{className:"basis-3/4 ",children:[e.jsx("label",{className:"text-sm text-foreground",children:"Alias"}),e.jsx("input",{type:"text",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1",placeholder:"custom-alias",value:a.custom_alias,onChange:t=>l("custom_alias",t.target.value)}),r.custom_alias&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.custom_alias})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-foreground",children:"Expiration Date"}),e.jsx("input",{type:"date",className:"w-full border border-brfourth rounded-lg px-3 py-2 mt-1",value:a.expires_at,onChange:t=>l("expires_at",t.target.value)}),r.expires_at&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.expires_at})]}),e.jsx(O,{type:"submit",disabled:u,children:u?"Updating...":"Update"})]}),x&&e.jsx(k,{isOpen:x,onClose:()=>i(!1),onConfirm:C}),w&&e.jsx(M,{url:y,onClose:()=>h(!1)})]})]})};export{G as default};
